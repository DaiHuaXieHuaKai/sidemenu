{"version":3,"sources":["../../src/pages/message/message.module.ts","../../src/pages/message/message.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Message } from './message';\n\n@NgModule({\n  declarations: [\n    Message,\n  ],\n  imports: [\n    IonicPageModule.forChild(Message),\n  ],\n  exports: [\n    Message\n  ]\n})\nexport class MessageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/message/message.module.ts","import { UtilProvider } from './../../providers/util';\nimport { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Content, MenuController, AlertController, ActionSheetController } from 'ionic-angular';\n\n@IonicPage({\n  name: 'message'\n})\n@Component({\n  selector: 'page-message',\n  templateUrl: 'message.html',\n})\nexport class Message {\n  @ViewChild(Content) content: Content;\n  inputValue = \"\";\n  messages = [\n    { sender_id: 2, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: 'http://172.20.10.15:8888/imageUpload/infinite_1504074972822.jpg', type: 1 },\n    { sender_id: 1, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '灵界基友两节课', type: 0 },\n    { sender_id: 2, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '灵界基友两节课', type: 0 },\n    { sender_id: 2, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '灵界基友两节课', type: 0 },\n    { sender_id: 1, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '灵界基友两节课', type: 0 },\n    { sender_id: 2, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '灵界基友两节课', type: 0 },\n    { sender_id: 2, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '金华市工业银行', type: 0 },\n    { sender_id: 1, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '灵界基友两节课', type: 0 },\n    { sender_id: 2, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '灵界基友两节课', type: 0 },\n    { sender_id: 2, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '灵界基友两节课', type: 0 },\n    { sender_id: 2, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '灵界基友两节课', type: 0 },\n    { sender_id: 2, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '灵界基友两节课', type: 0 },\n    { sender_id: 1, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '度有意义欧耶耶', type: 0 },\n    { sender_id: 2, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '灵界基友两节课', type: 0 },\n    { sender_id: 2, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: '灵界基友两节课', type: 0 },\n    { sender_id: 1, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: 'assets/images/o.jpg', type: 1 }\n  ];\n  emojs = [];\n  emojFlag = false;\n  constructor(public navCtrl: NavController, public navParams: NavParams, private menuCtrl: MenuController,\n    private util: UtilProvider, private actionsheetCtrl: ActionSheetController) {\n    this.menuCtrl.enable(false, \"menu\");\n    this.emojs = this.util.getEmoj();\n  }\n\n  ionViewDidLoad() {\n\n    console.log('ionViewDidLoad Message');\n  }\n\n\n\n\n\n  /* \n  选择图片\n  */\n  upload(index) {\n    let this_ = this;\n    /* 图库 */\n    if (index == 1) {\n      this.util.selectImage(1).then(result => {\n        this.util.uploadImage(result,'/common/upload').then((res: any) => {\n          if (res.err == 0) {\n            let mes = { sender_id: 1, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: res.path, type: 1 };\n            this_.messages.push(mes);\n            this_.scrollToBottom();\n          } else {\n            this.util.showLoading(res.msg);\n          }\n        }, (err) => {\n          this.util.showLoading(\"图片上传失败\");\n        })\n      }).catch(error => {\n        this.util.showLoading(\"图片获取失败\");\n      })\n    }\n    /* 相机 */\n    if (index == 2) {\n      this.util.selectImage(0).then(result => {\n        this.util.uploadImage(result,'/common/upload').then((res: any) => {\n          if (res.err == 0) {\n            let mes = { sender_id: 1, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: res.path, type: 1 };\n            this_.messages.push(mes);\n            this_.scrollToBottom();\n          } else {\n            this.util.showLoading(res.msg);\n          }\n        }, (err) => {\n          this.util.showLoading(\"图片上传失败\");\n        })\n      }).catch(error => {\n        this.util.showLoading(\"图片获取失败\");\n      })\n    }\n  }\n\n  /* \n  打开、关闭表情\n  */\n  showEmoj() {\n    if (this.emojFlag) {\n      this.emojFlag = false;\n      this.scrollToBottom();\n    } else {\n      this.emojFlag = true;\n      this.scrollToBottom();\n    }\n  }\n  /* \n  选择表情\n  */\n  selectEmoj(emoj) {\n    this.inputValue = this.inputValue + emoj;\n  }\n\n  /* \n  发送定位\n  */\n  \n  /* \n  发送消息\n  */\n  sendmessage() {\n    this.emojFlag = false;\n    let mes = { sender_id: 1, sender: 'Dai Hua Xie Hua Kai', reciver: '我', sender_image: 'assets/images/o.jpg', reciver_image: 'assets/images/o.jpg', content: this.inputValue, type: 0 };\n    this.inputValue = \"\";\n    this.messages.push(mes);\n    this.scrollToBottom();\n  }\n  /* \n  滚动到底部\n  */\n  scrollToBottom() {\n    this.content.resize();\n    setTimeout(() => {\n      this.content.scrollToBottom();\n    }, 300)\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/message/message.ts"],"sourceRoot":""}