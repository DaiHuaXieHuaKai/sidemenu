{"version":3,"sources":["../../src/pages/music-play/music-play.module.ts","../../src/pipes/pipes.module.ts","../../src/pipes/seconds-to-minute/seconds-to-minute.ts","../../src/pipes/apply-status/apply-status.ts","../../src/pipes/nickname/nickname.ts","../../src/pipes/avatar/avatar.ts","../../src/pipes/trust-html/trust-html.ts","../../src/pages/music-play/music-play.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { PipesModule } from './../../pipes/pipes.module';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MusicPlay } from './music-play';\n\n@NgModule({\n  declarations: [\n    MusicPlay,\n  ],\n  imports: [\n    IonicPageModule.forChild(MusicPlay),\n    PipesModule\n  ],\n  exports: [\n    MusicPlay\n  ]\n})\nexport class MusicPlayModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/music-play/music-play.module.ts","import { SecondsToMinute } from './seconds-to-minute/seconds-to-minute';\nimport { NgModule } from '@angular/core';\nimport { ApplyStatusPipe } from './apply-status/apply-status';\nimport { NicknamePipe } from './nickname/nickname';\nimport { AvatarPipe } from './avatar/avatar';\nimport { TrustHtmlPipe } from './trust-html/trust-html';\n@NgModule({\n    declarations: [ApplyStatusPipe, SecondsToMinute,\n        NicknamePipe,\n        AvatarPipe,\n        TrustHtmlPipe],\n    imports: [],\n    exports: [ApplyStatusPipe, SecondsToMinute,\n        NicknamePipe,\n        AvatarPipe,\n        TrustHtmlPipe]\n})\nexport class PipesModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'secondstominute',\n})\nexport class SecondsToMinute implements PipeTransform {\n\n  transform(value: number, ...args) {\n    if (value) {\n      let minute = Math.floor(value / 60);\n      let seconds = value % 60;\n      let secondsString = '';\n      if (seconds < 10) {\n        secondsString = '0' + seconds;\n      } else {\n        secondsString = seconds.toString();\n      }\n      return minute + ':' + secondsString;\n    } else {\n      return '0:00';\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/seconds-to-minute/seconds-to-minute.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'applyStatus',\n})\nexport class ApplyStatusPipe implements PipeTransform {\n  transform(value: number, ...args) {\n    if (value == 1) {\n      return \"已同意\"\n    }\n    if (value == 2) {\n      return \"已拒绝\"\n    }\n    if (value == 3) {\n      return \"已忽略\"\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/apply-status/apply-status.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'nickname',\n})\nexport class NicknamePipe implements PipeTransform {\n  transform(value: string, ...args) {\n    if (value) {\n      return JSON.parse(value).nickname;\n    } else {\n      return \"未知用户\";\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/nickname/nickname.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'avatar',\n})\nexport class AvatarPipe implements PipeTransform {\n  transform(value: string, ...args) {\n    if (value) {\n      return JSON.parse(value).avatar;\n    } else {\n      return \"assets/images/avatar.png\";\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/avatar/avatar.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'trustHtml',\n})\nexport class TrustHtmlPipe implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {\n\n  }\n\n  transform(value: string, ...args) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl('data:image/jpeg;base64,' + value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/trust-html/trust-html.ts","import { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\n\n@IonicPage({\n  name: 'music-play'\n})\n@Component({\n  selector: 'page-music-play',\n  templateUrl: 'music-play.html',\n})\nexport class MusicPlay {\n  music: any = {};\n  musics: any = {};\n  seconds = 0;\n  hasplay = 0;\n  playStatus: boolean = false;\n  timer: any = '';\n  player: any;\n  shuffleFlag: boolean = true;//默认随机播放\n  @ViewChild('container') container;\n  constructor(public navCtrl: NavController, public navParams: NavParams) {\n    this.music = this.navParams.data.selectMusic;\n    this.musics = this.navParams.data.arryMusics;\n  }\n\n  ionViewDidLoad() {\n    this.init();\n  }\n\n  //初始化音乐\n  init() {\n    let this_ = this;\n    this.player = this.container.nativeElement;\n    this.player.src = this.music.url;\n    this.seconds = this.music.seconds;\n    this.player.addEventListener('timeupdate', () => {\n      this.hasplay = parseInt(this.player.currentTime);\n    })\n    this.player.addEventListener('ended', () => {\n      //随机播放\n      if (this_.shuffleFlag) {\n        let index = Math.floor(Math.random() * this_.musics.length);\n        this_.music = this_.musics[index];\n        this_.init();\n        this_.player.play();\n      }\n    })\n  }\n\n  play() {\n    this.player.play();\n  }\n  pause() {\n    this.player.pause();\n  }\n  //上一曲\n  previous() {\n    let index = Math.floor(Math.random() * this.musics.length);\n    this.music = this.musics[index];\n    this.init();\n    this.player.play();\n  }\n  //下一曲\n  next() {\n    let index = Math.floor(Math.random() * this.musics.length);\n    this.music = this.musics[index];\n    this.init();\n    this.player.play();\n  }\n  //单曲循环\n  repeat() {\n    this.shuffleFlag = false;\n    this.player.loop = true;\n  }\n  //随机播放\n  shuffle() {\n    this.shuffleFlag = true;\n    this.player.loop = false;\n  }\n\n  //进度改变\n  rangChange() {\n    this.player.currentTime = this.hasplay;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/music-play/music-play.ts"],"sourceRoot":""}