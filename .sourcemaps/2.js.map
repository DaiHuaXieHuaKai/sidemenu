{"version":3,"sources":["../../src/pages/message/message.module.ts","../../src/pipes/pipes.module.ts","../../src/pipes/seconds-to-minute/seconds-to-minute.ts","../../src/pipes/apply-status/apply-status.ts","../../src/pipes/nickname/nickname.ts","../../src/pipes/avatar/avatar.ts","../../src/pipes/trust-html/trust-html.ts","../../src/pages/message/message.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { PipesModule } from './../../pipes/pipes.module';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Message } from './message';\n\n@NgModule({\n  declarations: [\n    Message\n  ],\n  imports: [\n    IonicPageModule.forChild(Message),\n    PipesModule\n  ],\n  exports: [\n    Message\n  ]\n})\nexport class MessageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/message/message.module.ts","import { SecondsToMinute } from './seconds-to-minute/seconds-to-minute';\nimport { NgModule } from '@angular/core';\nimport { ApplyStatusPipe } from './apply-status/apply-status';\nimport { NicknamePipe } from './nickname/nickname';\nimport { AvatarPipe } from './avatar/avatar';\nimport { TrustHtmlPipe } from './trust-html/trust-html';\n@NgModule({\n    declarations: [ApplyStatusPipe, SecondsToMinute,\n        NicknamePipe,\n        AvatarPipe,\n        TrustHtmlPipe],\n    imports: [],\n    exports: [ApplyStatusPipe, SecondsToMinute,\n        NicknamePipe,\n        AvatarPipe,\n        TrustHtmlPipe]\n})\nexport class PipesModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/pipes.module.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'secondstominute',\n})\nexport class SecondsToMinute implements PipeTransform {\n\n  transform(value: number, ...args) {\n    if (value) {\n      let minute = Math.floor(value / 60);\n      let seconds = value % 60;\n      let secondsString = '';\n      if (seconds < 10) {\n        secondsString = '0' + seconds;\n      } else {\n        secondsString = seconds.toString();\n      }\n      return minute + ':' + secondsString;\n    } else {\n      return '0:00';\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/seconds-to-minute/seconds-to-minute.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'applyStatus',\n})\nexport class ApplyStatusPipe implements PipeTransform {\n  transform(value: number, ...args) {\n    if (value == 1) {\n      return \"已同意\"\n    }\n    if (value == 2) {\n      return \"已拒绝\"\n    }\n    if (value == 3) {\n      return \"已忽略\"\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/apply-status/apply-status.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'nickname',\n})\nexport class NicknamePipe implements PipeTransform {\n  transform(value: string, ...args) {\n    if (value) {\n      return JSON.parse(value).nickname;\n    } else {\n      return \"未知用户\";\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/nickname/nickname.ts","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'avatar',\n})\nexport class AvatarPipe implements PipeTransform {\n  transform(value: string, ...args) {\n    if (value) {\n      return JSON.parse(value).avatar;\n    } else {\n      return \"assets/images/avatar.png\";\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/avatar/avatar.ts","import { Pipe, PipeTransform } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({\n  name: 'trustHtml',\n})\nexport class TrustHtmlPipe implements PipeTransform {\n  constructor(private sanitizer: DomSanitizer) {\n\n  }\n\n  transform(value: string, ...args) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl('data:image/jpeg;base64,' + value);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pipes/trust-html/trust-html.ts","import { MediaCapture } from '@ionic-native/media-capture';\nimport { RongcloudProvider } from './../../providers/rongcloud/rongcloud';\nimport { UtilProvider } from './../../providers/util';\nimport { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Content, MenuController, Events, AlertController } from 'ionic-angular';\n\n@IonicPage({\n  name: 'message'\n})\n@Component({\n  selector: 'page-message',\n  templateUrl: 'message.html',\n})\nexport class Message {\n  @ViewChild(Content) content: Content;\n  inputValue = \"\";\n  fromUserInfo: any;\n  toUserInfo: any;\n  title: string = \"\";\n  messages = [];\n  emojs = [];\n  emojFlag = false;\n  constructor(public navCtrl: NavController, public navParams: NavParams, private menuCtrl: MenuController,\n    private util: UtilProvider, private rondCloud: RongcloudProvider, private events: Events, private alertController: AlertController,\n    private mediaCapture: MediaCapture) {\n    this.menuCtrl.enable(false, \"menu\");\n    this.emojs = this.util.getEmoj();\n    this.title = this.navParams.data.toNickname;\n    this.events.subscribe(\"newMessage\", (message) => {\n      if (message.targetId == this.navParams.data.toUid) {\n        this.messages.push(message);\n        this.scrollToBottom();\n      }\n    })\n  }\n\n  ionViewWillEnter() {\n    if (this.navParams.data) {\n      /* 先获取发送者和接收者的用户信息 */\n      this.util.post(\"/user/getUsersInfo\", { fromUid: this.util.getItem(\"User\").uid, toUid: this.navParams.data.toUid }).then((result: any) => {\n        if (result.err == 0) {\n          this.fromUserInfo = result.fromUser;\n          this.toUserInfo = result.toUser;\n          /* 获取历史会话信息 */\n          let data = { conversationType: 1, targetId: this.navParams.data.toUid };\n          this.rondCloud.getHistroyMessage(data).then((result: any) => {\n            this.messages = result;\n            this.scrollToBottom();\n          }).catch(error => { })\n        } else {\n          this.util.showLoading(result.msg);\n        }\n      }).catch(error => {\n\n      })\n\n    }\n  }\n  /* 清除历史消息 */\n  clearHistory() {\n    let alertCtrl = this.alertController.create({\n      title: \"提示信息\",\n      message: \"是否确定删除历史记录？\",\n      buttons: [{\n        text: '取消',\n        handler: () => { }\n      }, {\n        text: \"确定\",\n        handler: () => {\n          let data = { conversationType: 1, targetId: this.navParams.data.toUid };\n          this.rondCloud.clearMessages(data).then(result => {\n            if (result == 1) {\n              /* 获取历史会话信息 */\n              let data = { conversationType: 1, targetId: this.navParams.data.toUid };\n              this.rondCloud.getHistroyMessage(data).then((result: any) => {\n                this.messages = result;\n                this.scrollToBottom();\n              }).catch(error => { })\n            } else {\n              this.util.showLoading(\"清除失败\");\n            }\n          }).catch(error => {\n\n          })\n        }\n      }]\n    })\n    alertCtrl.present();\n  }\n\n  /* 语音 */\n  voice() {\n    //参数limit默认是1，如果设置为3的话表示可以录制3个片段\n    this.mediaCapture.captureAudio().then((res:any) => {\n      let path = res[0].fullPath;\n      let type = res[0].type;\n      this.util.uploadFile(path,'/common/uploadFile',type).then((res:any)=>{\n        if (res.err == 0) {\n          // let data = {\n          //   conversationType: 1,\n          //   targetId: this.toUserInfo.uid,\n          //   targetAvatar: this.toUserInfo.avatar,\n          //   targetNickname: this.toUserInfo.nickname,\n          //   imageUri: res.path,\n          //   text: res.pathSmall,\n          //   uid: this.fromUserInfo.uid,\n          //   avatar: this.fromUserInfo.avatar,\n          //   nickname: this.fromUserInfo.nickname\n          // }\n          // this.rondCloud.sendImageMessage(data).then((result: any) => {\n          //   this.messages.push(result);\n          //   this.scrollToBottom();\n          // }).catch(error => { })\n        } else {\n          this.util.showLoading(res.msg);\n        }\n      }).catch(error=>{})\n      \n    }, (error) => { })\n  }\n  /* \n  选择图片\n  */\n  upload(index) {\n    let this_ = this;\n    /* 图库 */\n    if (index == 1) {\n      this.util.selectImage(1).then(result => {\n        this.util.uploadImage(result, '/common/upload').then((res: any) => {\n          if (res.err == 0) {\n            let data = {\n              conversationType: 1,\n              targetId: this.toUserInfo.uid,\n              targetAvatar: this.toUserInfo.avatar,\n              targetNickname: this.toUserInfo.nickname,\n              imageUri: res.path,\n              text: res.pathSmall,\n              uid: this.fromUserInfo.uid,\n              avatar: this.fromUserInfo.avatar,\n              nickname: this.fromUserInfo.nickname\n            }\n            this.rondCloud.sendImageMessage(data).then((result: any) => {\n              this.messages.push(result);\n              this.scrollToBottom();\n            }).catch(error => { })\n          } else {\n            this.util.showLoading(res.msg);\n          }\n        }, (err) => {\n          this.util.showLoading(\"信息发送失败，请稍后再试\");\n        })\n      }).catch(error => {\n        //this.util.showLoading(\"图片获取失败\");\n      })\n    }\n    /* 相机 */\n    if (index == 2) {\n      this.util.selectImage(0).then(result => {\n        this.util.uploadImage(result, '/common/upload').then((res: any) => {\n          if (res.err == 0) {\n            let data = {\n              conversationType: 1,\n              targetId: this.toUserInfo.uid,\n              targetAvatar: this.toUserInfo.avatar,\n              targetNickname: this.toUserInfo.nickname,\n              imageUri: res.path,\n              text: res.pathSmall,\n              uid: this.fromUserInfo.uid,\n              avatar: this.fromUserInfo.avatar,\n              nickname: this.fromUserInfo.nickname\n            }\n            this.rondCloud.sendImageMessage(data).then((result: any) => {\n              this.messages.push(result);\n              this.scrollToBottom();\n            }).catch(error => { })\n          } else {\n            this.util.showLoading(res.msg);\n          }\n        }, (err) => {\n          this.util.showLoading(\"信息发送失败，请稍后再试\");\n        })\n      }).catch(error => {\n        //this.util.showLoading(\"图片获取失败\");\n      })\n    }\n  }\n\n  /* \n  打开、关闭表情\n  */\n  showEmoj() {\n    if (this.emojFlag) {\n      this.emojFlag = false;\n      this.scrollToBottom();\n    } else {\n      this.emojFlag = true;\n      this.scrollToBottom();\n    }\n  }\n  /* \n  选择表情\n  */\n  selectEmoj(emoj) {\n    this.inputValue = this.inputValue + emoj;\n  }\n\n  /* \n  发送定位\n  */\n\n  /* \n  发送消息\n  */\n  sendmessage() {\n    this.emojFlag = false;\n    let data = {\n      conversationType: 1,\n      targetId: this.toUserInfo.uid,\n      targetAvatar: this.toUserInfo.avatar,\n      targetNickname: this.toUserInfo.nickname,\n      text: this.inputValue,\n      uid: this.fromUserInfo.uid,\n      avatar: this.fromUserInfo.avatar,\n      nickname: this.fromUserInfo.nickname\n    }\n    this.rondCloud.sendTextMessage(data).then((result) => {\n      if (result) {\n        this.inputValue = \"\";\n        this.messages.push(result);\n        this.scrollToBottom();\n      } else {\n        this.util.showLoading(\"信息发送失败，请稍后再试\");\n      }\n    }).catch(error => { })\n  }\n  /* \n  滚动到底部\n  */\n  scrollToBottom() {\n    this.content.resize();\n    setTimeout(() => {\n      this.content.scrollToBottom();\n    }, 300)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/message/message.ts"],"sourceRoot":""}