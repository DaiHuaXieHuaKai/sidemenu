{"version":3,"sources":["../../src/pages/location/location.module.ts","../../src/pages/location/location.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACV;AAatC;IAAA;IAA6B,CAAC;IAAjB,cAAc;QAX1B,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,2DAAQ;aACT;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,2DAAQ,CAAC;aACnC;YACD,OAAO,EAAE;gBACP,2DAAQ;aACT;SACF,CAAC;OACW,cAAc,CAAG;IAAD,qBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;ACf2B;AACD;AACoB;AAQzE;IAIE,kBAAmB,OAAsB,EAAS,SAAoB,EAAU,QAAwB,EAAU,IAAkB;QAAjH,YAAO,GAAP,OAAO,CAAe;QAAS,cAAS,GAAT,SAAS,CAAW;QAAU,aAAQ,GAAR,QAAQ,CAAgB;QAAU,SAAI,GAAJ,IAAI,CAAc;QAClI,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,KAAK,EAAE,MAAM,CAAC,CAAC;IACtC,CAAC;IAGD,mCAAgB,GAAhB;QACE,OAAO;QACP,IAAI,GAAG,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE;YACnD,IAAI,EAAE,EAAE;YACR,YAAY,EAAE,IAAI;YAClB,MAAM,EAAE,CAAC,MAAM,EAAE,IAAI,CAAC;SACvB,CAAC,CAAC;QACH,QAAQ;QACR,IAAI,WAAW,GAAG;YAChB,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,aAAa,kBAAiB;SACpD,CAAC;QACF,IAAI,YAAY,GAAG,IAAI,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC;QACtD,IAAI,WAAW,GAAG,IAAI,IAAI,CAAC,WAAW,CAAC,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;QACpD,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC,YAAY,EAAE,QAAQ,EAAE,UAAU,CAAC;YACxD,sBAAsB;YACtB,WAAW,CAAC,OAAO,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;YAClC,WAAW,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC;QAChC,CAAC,CAAC,CAAC;QACH,MAAM;QACN,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC,UAAC,MAAW;YACvC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAChB,GAAG,CAAC,SAAS,CAAC,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC;YACxC,IAAI,MAAM,GAAG,IAAI,IAAI,CAAC,MAAM,CAAC;gBAC3B,QAAQ,EAAE,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,CAAC,GAAG,CAAC;aACnC,CAAC,CAAC;YACH,MAAM,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC,KAAK,CAAC,UAAC,KAAK;QACf,CAAC,CAAC;IACJ,CAAC;IAnCuB;QAAvB,yEAAS,CAAC,WAAW,CAAC;;+CAAW;IACX;QAAtB,yEAAS,CAAC,UAAU,CAAC;;8CAAU;IAHrB,QAAQ;QALpB,wEAAS,CAAC;YACT,QAAQ,EAAE,eAAe;WACG;SAC7B,CAAC;iBAMoI;OAJzH,QAAQ,CAsCpB;IAAD,CAAC;AAAA;SAtCY,QAAQ,mB","file":"16.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { Location } from './location';\n\n@NgModule({\n  declarations: [\n    Location,\n  ],\n  imports: [\n    IonicPageModule.forChild(Location),\n  ],\n  exports: [\n    Location\n  ]\n})\nexport class LocationModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location/location.module.ts","import { UtilProvider } from './../../providers/util';\nimport { Component, ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams, MenuController } from 'ionic-angular';\ndeclare let AMap: any;//声明\n@IonicPage(\n  { name: 'location' }\n)\n@Component({\n  selector: 'page-location',\n  templateUrl: 'location.html',\n})\n\nexport class Location {\n\n  @ViewChild(\"container\") container;\n  @ViewChild(\"keywords\") keywords;\n  constructor(public navCtrl: NavController, public navParams: NavParams, private menuCtrl: MenuController, private util: UtilProvider) {\n    this.menuCtrl.enable(false, \"menu\");\n  }\n\n\n  ionViewWillEnter() {\n    //初始化地图\n    let map = new AMap.Map(this.container.nativeElement, {\n      zoom: 10,\n      resizeEnable: true,\n      center: [116.39, 39.9]\n    });\n    //自动完成搜索\n    let autoOptions = {\n      input: this.keywords.nativeElement//使用联想输入的input的id\n    };\n    let autocomplete = new AMap.Autocomplete(autoOptions);\n    let placeSearch = new AMap.PlaceSearch({ map: map })\n    AMap.event.addListener(autocomplete, \"select\", function (e) {\n      //TODO 针对选中的poi实现自己的功能\n      placeSearch.setCity(e.poi.adcode);\n      placeSearch.search(e.poi.name)\n    });\n    //获取位置\n    this.util.getLocation().then((result: any) => {\n      map.setZoom(17);\n      map.setCenter([result.lng, result.lat]);\n      let marker = new AMap.Marker({\n        position: [result.lng, result.lat]\n      });\n      marker.setMap(map);\n    }).catch((error) => {\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/location/location.ts"],"sourceRoot":""}